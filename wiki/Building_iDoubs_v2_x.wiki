#summary Building iDoubs v2.x

<wiki:toc max_depth="3" />

== Introduction ==
*iDoubs v2.x* is a beta version of our ([http://www.doubango.org/ Doubango Telecom]) VoIP client for iOS (iPhone, iPod Touch and iPad) and is based on [http://code.google.com/p/doubango/source/browse/#svn%2Fbranches%2F2.0 Doubango v2.x] while *iDoubs v1.x* (alpha version) is based on [http://code.google.com/p/doubango/source/browse/#svn%2Ftrunk Doubango v1.x]. <br/>

This new version is now split in two parts: *iDoubs v2.x* and *ios-ngn-stack*. <br />
 # *iDoubs v2.x* is the VoIP client and mostly contain UI related code.
 # *ios-ngn-stack* is our NGN (Next Generation Network)  Framework and contains wrappers Objective-C wrappers for *Doubango* (ANSI-C).  This framework contains wrappers for the protocol stacks (SIP, MSRP, HTTP, RTP ...), utility services (Database storage, Call log management, Address Book ...). <br />

== Checking out the source code ==

To build the source code you will need: xcode 3.x or later, iOS SDK 4.x or later and svn tools.<br />

  * open new Terminal (Applications => Utilities => Terminal)

  * from the command line, login as root
{{{
sudo -i
}}}

 * Create new directory named mydoubs anywhere in your disk:
{{{
mkdir mydoubs
cd mydoubs
}}}

 * checkout doubango source code (both trunk and branches) into *mydoubs*. __*Important:*__ The destination folder MUST be named *doubango*:
{{{
svn checkout http://doubango.googlecode.com/svn/ doubango
}}}

 * create new folder named *iPhone* into *mydoubs*:
{{{
mkdir iPhone
cd iPhone
}}}

 * checkout ios-ngn-stack source code into *iPhone* folder. *Important:* The destination folder MUST be named *idoubs*:
{{{
svn checkout http://idoubs.googlecode.com/svn/ idoubs
}}}

 * change *mydoubs* folder permissions:
{{{
cd ../..
chmod -R 777 mydoubs/*
}}}

== Building the NGN Stack ==

 * open mydoubs/iPhone/idoubs/branches/2.0/ios-ngn-stack.xcodeproj
	1) Very Important: make sure that the right base sdk is selected (iOS SDK x.y): Right click on "ios-ngn-stack" => "Get Info" => "Build" tab => From "Architectures" group adjust "Base SDK" and select "iOS x.y".
	2) build Doubango: Right click on "Doubango" aggregated target and select "Build Doubango"
	3) build the NGN stack: Right click on "ios-ngn-stack" target and select "Build ios-ngn-stack"
	4) build the audio test application: Right click on "testAudioCall" and select "Build testAudioCall". For now don't try to run the test application. See next section for more information.